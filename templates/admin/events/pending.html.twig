{% extends 'base.html.twig' %}

{% block title %}Ã‰vÃ©nements Ã  valider{% endblock %}

{% block body %}
<div class="container py-4">
  <div class="d-flex align-items-center justify-content-between mb-3">
    <h1 class="h4 text-success m-0">ğŸ•’ Ã‰vÃ©nements en attente de validation</h1>
    <a href="{{ path('admin_dashboard') }}" class="btn btn-outline-secondary">â¬…ï¸ Retour au dashboard</a>
  </div>

  {% if events is empty %}
    <div class="alert alert-info">Aucun Ã©vÃ©nement Ã  valider.</div>
  {% else %}
    {# IdÃ©alement trier cÃ´tÃ© contrÃ´leur ; fallback ici : #}
    {% set pending = events|sort((a, b) => a.startDate <=> b.startDate) %}

    <ul class="list-group mb-4">
      {% for event in pending %}
        <li class="list-group-item d-flex justify-content-between align-items-center gap-3">
          <div class="flex-grow-1">
            <div class="fw-semibold">{{ event.title }}</div>
            <small class="text-muted">
              <time datetime="{{ event.startDate ? event.startDate|date('c') : '' }}">
                {{ event.startDate ? event.startDate|date('d/m/Y H:i') : 'â€”' }}
              </time>
              {% if event.location %} â€” {{ event.location }}{% endif %}
            </small>
          </div>
          <div class="btn-group">
            <a href="{{ path('admin_events_validate_one', { id: event.id }) }}" class="btn btn-sm btn-success" title="Valider">âœ… Valider</a>
            <a href="{{ path('admin_events_edit', { id: event.id }) }}" class="btn btn-sm btn-warning" title="Modifier">âœï¸ Modifier</a>
          </div>
        </li>
      {% endfor %}
    </ul>
  {% endif %}
</div>
{% endblock %}
