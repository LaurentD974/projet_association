{% extends 'base.html.twig' %}

{% block title %}Modifier une entreprise{% endblock %}

{% block body %}
<div class="container py-4">
  <h1 class="h4 text-primary mb-3">‚úèÔ∏è Modifier une entreprise</h1>

  {# ‚úÖ Flash de succ√®s #}
  {% for message in app.flashes('success') %}
    <div class="alert alert-success alert-dismissible fade show" role="alert">
      {{ message }}
      <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Fermer"></button>
    </div>
  {% endfor %}

  <div class="card shadow-sm">
    <div class="card-body">
      {{ form_start(form, { attr: { novalidate: 'novalidate' } }) }}

        {# ‚ùå Erreurs globales du formulaire (affichage direct) #}
        {{ form_errors(form) }}

        <div class="row g-3">
          <div class="col-md-6">
            {{ form_row(form.nom, {
              label: 'Nom',
              attr: { class:'form-control', placeholder:'Ex : Charpentes Oc√©an Indien' }
            }) }}
          </div>

          <div class="col-md-6">
            {{ form_row(form.responsable, {
              label: 'Responsable',
              attr: { class:'form-control', placeholder:'Nom et pr√©nom' }
            }) }}
          </div>

          <div class="col-md-6">
            {{ form_row(form.telephone, {
              label: 'T√©l√©phone',
              attr: { class:'form-control', placeholder:'+262 ‚Ä¶', autocomplete:'tel' }
            }) }}
          </div>

          <div class="col-md-6">
            {{ form_row(form.email, {
              label: 'Email',
              attr: { class:'form-control', placeholder:'contact@exemple.com', autocomplete:'email' }
            }) }}
          </div>

          <div class="col-12">
            {{ form_row(form.adresse, {
              label: 'Adresse',
              attr: { class:'form-control', placeholder:'N¬∞, voie, compl√©ment' }
            }) }}
          </div>

          <div class="col-md-6">
            {{ form_row(form.ville, {
              label: 'Ville',
              attr: { class:'form-control', placeholder:'Ex : Saint-Denis' }
            }) }}
          </div>

          <div class="col-md-6">
            {{ form_row(form.code_postale, {
              label: 'Code postal',
              attr: { class:'form-control', placeholder:'97400', inputmode:'numeric', autocomplete:'postal-code' }
            }) }}
          </div>
        </div>

        <div class="d-flex gap-2 mt-4">
          <a href="{{ path('entreprise_index') }}" class="btn btn-outline-secondary">‚Ü©Ô∏è Retour</a>
          <button type="submit" class="btn btn-primary">üíæ Enregistrer</button>
        </div>

      {{ form_end(form) }}
    </div>
  </div>
</div>
{% endblock %}
