{% extends 'base.html.twig' %}

{% block title %}Cr√©er une entreprise{% endblock %}

{% block body %}
<div class="container mt-4">
  <h2 class="mb-4 text-center text-primary">üè¢ Nouvelle entreprise</h2>

  {{ form_start(form) }}

  {# ‚úÖ Flash de succ√®s #}
  {% for message in app.flashes('success') %}
    <div class="alert alert-success alert-dismissible fade show" role="alert">
      {{ message }}
      <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
  {% endfor %}

  {# ‚ùå Erreurs globales du formulaire #}
  {% for error in form_errors(form) %}
    <div class="alert alert-danger">{{ error.message }}</div>
  {% endfor %}

  <div class="row g-3">
    <div class="col-md-6">
      <label class="form-label">Nom</label>
      {{ form_widget(form.nom, {'attr': {'class': 'form-control'}}) }}
      {{ form_errors(form.nom) }}
    </div>

    <div class="col-md-6">
      <label class="form-label">Responsable</label>
      {{ form_widget(form.responsable, {'attr': {'class': 'form-control'}}) }}
      {{ form_errors(form.responsable) }}
    </div>

    <div class="col-md-6">
      <label class="form-label">Adresse</label>
      {{ form_widget(form.adresse, {'attr': {'class': 'form-control'}}) }}
      {{ form_errors(form.adresse) }}
    </div>

    <div class="col-md-3">
      <label class="form-label">Code postal</label>
      {{ form_widget(form.code_postale, {'attr': {'class': 'form-control'}}) }}
      {{ form_errors(form.code_postale) }}
    </div>

    <div class="col-md-3">
      <label class="form-label">Ville</label>
      {{ form_widget(form.ville, {'attr': {'class': 'form-control'}}) }}
      {{ form_errors(form.ville) }}
    </div>

    <div class="col-md-6">
      <label class="form-label">T√©l√©phone</label>
      {{ form_widget(form.telephone, {'attr': {'class': 'form-control'}}) }}
      {{ form_errors(form.telephone) }}
    </div>

    <div class="col-md-6">
      <label class="form-label">Email</label>
      {{ form_widget(form.email, {'attr': {'class': 'form-control'}}) }}
      {{ form_errors(form.email) }}
    </div>
  </div>

  <div class="d-flex justify-content-between mt-4">
    <a href="{{ path('gacheur_dashboard') }}" class="btn btn-outline-secondary">‚¨ÖÔ∏è Retour au tableau de bord</a>
    <button type="submit" class="btn btn-success">‚úÖ Enregistrer</button>
  </div>

  {{ form_rest(form) }}
  {{ form_end(form) }}
</div>
{% endblock %}